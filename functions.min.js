(function(){if(!Event.prototype.preventDefault){Event.prototype.preventDefault=function(){this.returnValue=false}}if(!Event.prototype.stopPropagation){Event.prototype.stopPropagation=function(){this.cancelBubble=true}}if(!Element.prototype.addEventListener){var c=[];var b=function(f,h){var d=this;var k=function(l){l.target=l.srcElement;l.currentTarget=d;if(h.handleEvent){h.handleEvent(l)}else{h.call(d,l)}};if(f=="DOMContentLoaded"){var g=function(l){if(document.readyState=="complete"){k(l)}};document.attachEvent("onreadystatechange",g);c.push({object:this,type:f,listener:h,wrapper:g});if(document.readyState=="complete"){var j=new Event();j.srcElement=window;g(j)}}else{this.attachEvent("on"+f,k);c.push({object:this,type:f,listener:h,wrapper:k})}};var a=function(f,g){var d=0;while(d<c.length){var e=c[d];if(e.object==this&&e.type==f&&e.listener==g){if(f=="DOMContentLoaded"){this.detachEvent("onreadystatechange",e.wrapper)}else{this.detachEvent("on"+f,e.wrapper)}c.splice(d,1);break}++d}};Element.prototype.addEventListener=b;Element.prototype.removeEventListener=a;if(HTMLDocument){HTMLDocument.prototype.addEventListener=b;HTMLDocument.prototype.removeEventListener=a}if(Window){Window.prototype.addEventListener=b;Window.prototype.removeEventListener=a}}})();HTMLElement.prototype.appendChilds=function(){var e=arguments,d=0;for(;d<e.length;d++){var f=e[d];if(typeof f=="object"){this.appendChild(e[d])}}};CE=function(b){if(typeof b=="string"){return document.createElement(b)}};
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
;if("document" in self){if(!("classList" in document.createElement("_"))){(function(k){if(!("Element" in k)){return}var a="classList",f="prototype",n=k.Element[f],b=Object,l=String[f].trim||function(){return this.replace(/^\s+|\s+$/g,"")},c=Array[f].indexOf||function(r){var q=0,p=this.length;for(;q<p;q++){if(q in this&&this[q]===r){return q}}return -1},o=function(p,q){this.name=p;this.code=DOMException[p];this.message=q},g=function(q,p){if(p===""){throw new o("SYNTAX_ERR","An invalid or illegal string was specified")}if(/\s/.test(p)){throw new o("INVALID_CHARACTER_ERR","String contains an invalid character")}return c.call(q,p)},d=function(t){var s=l.call(t.getAttribute("class")||""),r=s?s.split(/\s+/):[],q=0,p=r.length;for(;q<p;q++){this.push(r[q])}this._updateClassName=function(){t.setAttribute("class",this.toString())}},e=d[f]=[],j=function(){return new d(this)};o[f]=Error[f];e.item=function(p){return this[p]||null};e.contains=function(p){p+="";return g(this,p)!==-1};e.add=function(){var t=arguments,s=0,q=t.length,r,p=false;do{r=t[s]+"";if(g(this,r)===-1){this.push(r);p=true}}while(++s<q);if(p){this._updateClassName()}};e.remove=function(){var u=arguments,t=0,q=u.length,s,p=false,r;do{s=u[t]+"";r=g(this,s);while(r!==-1){this.splice(r,1);p=true;r=g(this,s)}}while(++t<q);if(p){this._updateClassName()}};e.toggle=function(q,r){q+="";var p=this.contains(q),s=p?r!==true&&"remove":r!==false&&"add";if(s){this[s](q)}if(r===true||r===false){return r}else{return !p}};e.toString=function(){return this.join(" ")};if(b.defineProperty){var m={get:j,enumerable:true,configurable:true};try{b.defineProperty(n,a,m)}catch(h){if(h.number===-2146823252){m.enumerable=false;b.defineProperty(n,a,m)}}}else{if(b[f].__defineGetter__){n.__defineGetter__(a,j)}}}(self))}else{(function(){var b=document.createElement("_");b.classList.add("c1","c2");if(!b.classList.contains("c2")){var c=function(e){var d=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(h){var g,f=arguments.length;for(g=0;g<f;g++){h=arguments[g];d.call(this,h)}}};c("add");c("remove")}b.classList.toggle("c3",false);if(b.classList.contains("c3")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(d,e){if(1 in arguments&&!this.contains(d)===!e){return e}else{return a.call(this,d)}}}b=null}())}}function fqueue(c){c.preventDefault();var b=c.target.files!=undefined?c.target.files:c.dataTransfer.files,a=0;for(;a<b.length;a++){var d=b[a];if(d.type.match(/image.*/)){if(empty!=undefined){empty.style.display="none"}read(d)}else{alert("File: "+d.name+" is not an image")}}}function fs(){if((document.fullscreenEnabled==false)||(document.mozFullScreen==false)||(document.webkitIsFullScreen==false)){var a=document.documentElement;if(a.requestFullscreen){a.requestFullscreen()}else{if(a.mozRequestFullScreen){a.mozRequestFullScreen()}else{if(a.webkitRequestFullscreen){a.webkitRequestFullscreen()}else{if(a.msRequestFullscreen){a.msRequestFullscreen()}}}}}else{if(document.exitFullscreen){document.exitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen()}}}}}function read(b){var a=new FileReader();a.addEventListener("load",function(c){upload(c.target.result,b.name,b.lastModified)});a.readAsDataURL(b)}function do_upload(a){var b=window.XMLHttpRequest?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP");b.addEventListener("readystatechange",function(){if(this.readyState==4&&this.status==200){uploads.active--;uploads.queued--;a.thumbnail.remove();var c=json_decode(this.responseText);if(c.success){a.success=true;a.binary="";imgs.push(c.file);addimg(c.file);console.log(c.orig_file+" was successfully uploaded")}else{a.success=false;alert("There was an error while uploading: "+c.error+", file: "+c.file)}}});b.upload.addEventListener("progress",function(d){if(d.lengthComputable){var c=d.loaded/d.total;a.uploaded=c}else{console.warn("Unable to compute progress information since the total size is unknown")}});b.addEventListener("abort",function(){uploads.queued--;a.success=false;a.thumbnail.remove();console.log("an error occurred with upload id #"+a.id)});b.addEventListener("timeout",b.abort);b.addEventListener("error",b.abort);b.open("POST","upload.php?name="+a.fname+"&date="+a.date,true);b.send(a.binary);a.uploading=true;uploads.active++}function update_progress(){var b=Object.keys(uploads),d=0,a=b.length,e=0;for(;d<a;d++){var f=b[d];if(f!="active"&&f!="queued"){var c=uploads[f];percentage=c.uploaded;e+=percentage;if(!c.uploading&&uploads.active<2){do_upload(c)}}}e/=uploads.queued;if(parseInt(prog.style.width)!=e){prog.style.width=uploads.queued==0?"0%":e*100+"%"}requestAnimationFrame(update_progress)}function upload(f,e,a){var c=thumbsize!=0?thumbsize:((winwidth()/100)*20),b=new Image(),d=uniqid();b.src=f;b.addEventListener("load",function(){c*=2;if(b.width>c){b.height*=c/b.width;b.width=c}var j=CE("canvas"),h=j.getContext("2d");h.clearRect(0,0,j.width,j.height);j.width=b.width;j.height=b.height;h.drawImage(b,0,0,b.width,b.height);stackBlurCanvasRGBA(j,0,0,b.width,b.height,10);h.font=(b.height/100)*12+"px Ubuntu";h.fillInversedText("Uploading image...",(b.width/100)*20,(b.height/100)*50);var g=j.toDataURL(),k=new Image();j.remove();b.remove();k.src=g;k.classList.add("image");k.style.maxWidth="19%";k.style.minWidth="200px";k.style.cursor="progress";grid.appendChild(k);if(typeof window.scrollTo=="function"){window.scrollTo(0,$(k).offset().top)}uploads[d]={binary:f,fname:e,date:a,uploaded:0,uploading:false,thumbnail:k,id:d};uploads.queued++})}function startWorker(){if(typeof(Worker)!=="undefined"&&typeof(w)=="undefined"&&preload){w=new Worker("preload.min.js");w.onmessage=function(c){var d=basename(c.data[1]),a=c.data[0];var b=(window.URL||window.webkitURL).createObjectURL(a);imgs[d]=b;mdata[d]=json_decode(c.data[2]);console.info("WebWorker has successfully downloaded "+d+" to "+b)};w.postMessage(imgs);console.info("Preload WebWorker started")}}function lhash(){requestAnimationFrame(lhash);var g=location.hash;if(g[1]=="!"){if(g.length<=2){console.warn("No arguments provided but #!. Stopping.")}else{argr=substr(g,2);args=explode(",",argr);for(var d=0;d<args.length;d++){var a=explode("=",args[d]),c=a[0],f=a[1];if(f==undefined){f=true}if(a.length>2){console.warn("Multiple values specified, using first one")}if(c=="ts"){if(f!=""){thumbsize=f}}if(c=="rs"){if(f!=""){realsize=f}}if(c=="image"){if(f!=""&&f!=undefined){var e=(container.style.display=="none");if(e||$.data(img,"original")!=f){var b=findthumb(f);if(b!=undefined&&($.data(img,"original")!=$.data(b,"original")||e)){openpic(b)}}}}if(c=="info"){if(f=="true"){infolay.classList.remove("closed")}else{if(f=="false"){infolay.classList.add("closed")}}}if(c=="preload"){if(f=="false"||f==false){preload=false}if(f=="true"||f==true){preload=true}}if(c=="overview"){if(f=="true"||f==true){if(container.style.display!="none"){container.click()}}}}}}}function winwidth(){var b=window,h=document,f=h.documentElement,c=h.getElementsByTagName("body")[0],a=b.innerWidth||f.clientWidth||c.clientWidth;return a}CanvasRenderingContext2D.prototype.fillInversedText=function(e,l,h){var f=this.measureText(e).width;var a=parseInt(this.font,"10");a=(a===0)?16:a;var j=document.createElement("canvas");j.width=f;j.height=a;var n=j.getContext("2d");n.font=this.font;n.textBaseline="top";n.fillText(e,0,0);var k=this.getImageData(l,h,f,a);var d=n.getImageData(0,0,f,a);var m=k.data;var b=d.data;var g=b.length;for(var c=0;c<g;c+=4){if(b[c+3]>0){m[c]=(255-m[c]);m[c+1]=(255-m[c+1]);m[c+2]=(255-m[c+2])}}this.putImageData(k,l,h)};function kinput(b){var a=b.keyCode||b.which;if(a==105){infooverlay()}if(a==102){fs()}if(a==27){b.preventDefault();container.click()}if(a==39||a==110){next()}if(a==37||a==112){prev()}if(a==8||a==46){b.preventDefault();del()}}function addimg(a){var b=CE("img");if(thumbsize!=0){b.src="download.php/resize/"+(parseInt(thumbsize)+(parseInt(thumbsize)/10))+"/"+a;b.style.width=thumbsize+"px"}else{b.src="thumbs.dir/"+a+".jpg";b.style.width="19%";if(mobile){b.style.width="92%"}b.style.minWidth="200px"}$.data(b,"original",a);b.classList.add("image");if(meta[a]!=undefined){$.data(b,"by",meta[a].by);$.data(b,"description",meta[a].description)}b.addEventListener("click",openpic);grid.appendChild(b)}function openpic(h){if(this.tagName=="IMG"){h=this}if(h==undefined){console.warn("srcthumb is undefined");return}var e=$.data(h,"original"),a=false,r=imgs[e];if(substr(r,0,4)=="blob"){console.info("Reading image "+e+" from "+r);img.src=r;a=true}else{if(realsize==0){img.src=e}else{if(realsize=="dyn"){img.src="download.php/resize/"+(winwidth()/100)*95+"/"+e}else{img.src="download.php/resize/"+realsize+"/"+e}}}$.data(img,"original",e);location.hash="#!image="+basename(e);container.style.display="";var t=$(h).data();if("by" in t){by=t.by}else{by=meta.all!=undefined?meta.all:"Unknown"}if("description" in t){desc=t.description}else{desc="Unbenannt"}infobut.style.display="";var x=mdata[e]!=undefined?mdata[e]:json_decode(file_get_contents("download.php/exif/"+e)),g=desc+", hochgeladen von "+by,p=a?'<br /><a style="color:white;" download="'+e+'" href="'+r+'">In Originalgröße downloaden</a>':'<br /><a style="color:white;" href="download.php/'+e+'">In Originalgröße downloaden</a>';if($.data(h,"description")=="undefined"){g="Hochgeladen von "+$.data(h,"by")}if(x!=false&&x!=null){var o=x.width,k=x.height,b=x.make,c=x.model,n=x.GPS,u=x.date,s=x.ISO,j=x.aperture,v=x.exposure,f=x.filesize,m=x.flash,l=x.software;if(u!=false){g+=", fotografiert am "+u}if(u!=false&&b!=false&&c!=false){var q=b+" "+c;if(b==c){q=c}if(c.indexOf(b)!=-1){q=c}g+=", mit einer / einem "+q}else{if(b!=false&&c!=false){var q=b+" "+c;if(b==c){q=c}if(c.indexOf(b)!=-1){q=c}g+=", fotografiert mit einer / einem "+q}}if(s!=false){g+=", ISO: "+s}if(j!=false){g+=", Blende: "+j}if(v!=false){g+=", Belichtungszeit: "+v}if(m!=false){g+=", Blitz aktiviert"}if(f!=false){g+=", Dateigr&ouml;sse: "+f}if(o!=false&&k!=false){g+=", Abmessungen: "+o+"x"+k}if(l!=false&&l!=null){g+=", software: "+l}g+=p;if(n!=false){g+=' <a target="_blank" style="color:white;" href="http://maps.apple.com/?q='+urlencode(n)+'">Ort in Karten öffnen</a>'}if(features.deleting){g+="&nbsp;&nbsp;&nbsp;&nbsp;<button style='color: white; background: transparent; border: 1px solid white; border-radius: 5px; margin: 1px;' onclick='del(this);'>Löschen</button>"}}infolay.innerHTML=g}function infooverlay(){infolay.classList.toggle("closed")}function findthumb(b){var a=document.getElementsByClassName("image");for(i=0;i<a.length;i++){if($.data(a[i],"original")==b){return a[i]}}}function del(){var a=$.data(img,"original"),b=json_decode(file_get_contents("download.php/delete/"+a));if(b.success){next();findthumb(a).remove();imgs.splice(findimg(a),1);ety(true)}else{alert("Ein fehler ist beim löschen aufgetreten.")}}function next(c){var b=(findimg($.data(img,"original")==undefined?basename(img.src):$.data(img,"original"))+1);if(b==imgs.length){b=0}var a=findthumb(imgs[b]);openpic(a)}function prev(a){var b=findimg($.data(img,"original")==undefined?basename(img.src):$.data(img,"original"))-1;if(b<0){b=(imgs.length-1)}openpic(findthumb(imgs[b]))}function findimg(a){for(i=0;i<=imgs.length;i++){if(imgs[i]==urldecode(a)){return i}}}function ety(){if(!imgs.length){empty=CE("div"),h1=CE("h1"),h2=CE("h2");h1.appendChild(document.createTextNode("Noch nichts da..."));h2.appendChild(document.createTextNode("Ziehe fotos auf diese Seite um sie hochzuladen"));empty.id="empty";empty.classList.add("cent");empty.appendChild(h1);empty.appendChild(h2);document.body.appendChild(empty);if(arguments[0]){container.click()}}}function iclick(a){if(a.target.id==this.id){this.style.display="none";location.hash="#!overview"}}var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];var shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function stackBlurCanvasRGBA(j,H,F,a,c,Q){if(isNaN(Q)||Q<1){return}Q|=0;var aa=j.getContext("2d");var V;try{try{V=aa.getImageData(H,F,a,c)}catch(Z){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");V=aa.getImageData(H,F,a,c)}catch(Z){alert("Cannot access local image");throw new Error("unable to access local image data: "+Z);return}}}catch(Z){alert("Cannot access image");throw new Error("unable to access image data: "+Z)}var h=V.data;var O,N,X,U,s,v,n,f,g,E,T,r,G,C,b,K,P,t,q,m,u,z,A,J;var Y=Q+Q+1;var L=a<<2;var o=a-1;var S=c-1;var l=Q+1;var R=l*(l+1)/2;var I=new BlurStack();var D=I;for(X=1;X<Y;X++){D=D.next=new BlurStack();if(X==l){var k=D}}D.next=I;var W=null;var M=null;n=v=0;var B=mul_table[Q];var d=shg_table[Q];for(N=0;N<c;N++){K=P=t=q=f=g=E=T=0;r=l*(m=h[v]);G=l*(u=h[v+1]);C=l*(z=h[v+2]);b=l*(A=h[v+3]);f+=R*m;g+=R*u;E+=R*z;T+=R*A;D=I;for(X=0;X<l;X++){D.r=m;D.g=u;D.b=z;D.a=A;D=D.next}for(X=1;X<l;X++){U=v+((o<X?o:X)<<2);f+=(D.r=(m=h[U]))*(J=l-X);g+=(D.g=(u=h[U+1]))*J;E+=(D.b=(z=h[U+2]))*J;T+=(D.a=(A=h[U+3]))*J;K+=m;P+=u;t+=z;q+=A;D=D.next}W=I;M=k;for(O=0;O<a;O++){h[v+3]=A=(T*B)>>d;if(A!=0){A=255/A;h[v]=((f*B)>>d)*A;h[v+1]=((g*B)>>d)*A;h[v+2]=((E*B)>>d)*A}else{h[v]=h[v+1]=h[v+2]=0}f-=r;g-=G;E-=C;T-=b;r-=W.r;G-=W.g;C-=W.b;b-=W.a;U=(n+((U=O+Q+1)<o?U:o))<<2;K+=(W.r=h[U]);P+=(W.g=h[U+1]);t+=(W.b=h[U+2]);q+=(W.a=h[U+3]);f+=K;g+=P;E+=t;T+=q;W=W.next;r+=(m=M.r);G+=(u=M.g);C+=(z=M.b);b+=(A=M.a);K-=m;P-=u;t-=z;q-=A;M=M.next;v+=4}n+=a}for(O=0;O<a;O++){P=t=q=K=g=E=T=f=0;v=O<<2;r=l*(m=h[v]);G=l*(u=h[v+1]);C=l*(z=h[v+2]);b=l*(A=h[v+3]);f+=R*m;g+=R*u;E+=R*z;T+=R*A;D=I;for(X=0;X<l;X++){D.r=m;D.g=u;D.b=z;D.a=A;D=D.next}s=a;for(X=1;X<=Q;X++){v=(s+O)<<2;f+=(D.r=(m=h[v]))*(J=l-X);g+=(D.g=(u=h[v+1]))*J;E+=(D.b=(z=h[v+2]))*J;T+=(D.a=(A=h[v+3]))*J;K+=m;P+=u;t+=z;q+=A;D=D.next;if(X<S){s+=a}}v=O;W=I;M=k;for(N=0;N<c;N++){U=v<<2;h[U+3]=A=(T*B)>>d;if(A>0){A=255/A;h[U]=((f*B)>>d)*A;h[U+1]=((g*B)>>d)*A;h[U+2]=((E*B)>>d)*A}else{h[U]=h[U+1]=h[U+2]=0}f-=r;g-=G;E-=C;T-=b;r-=W.r;G-=W.g;C-=W.b;b-=W.a;U=(O+(((U=N+l)<S?U:S)*a))<<2;f+=(K+=(W.r=h[U]));g+=(P+=(W.g=h[U+1]));E+=(t+=(W.b=h[U+2]));T+=(q+=(W.a=h[U+3]));W=W.next;r+=(m=M.r);G+=(u=M.g);C+=(z=M.b);b+=(A=M.a);K-=m;P-=u;t-=z;q-=A;M=M.next;v+=a}}aa.putImageData(V,H,F)}function BlurStack(){this.r=0;this.g=0;this.b=0;this.a=0;this.next=null}if(typeof HTMLElement.prototype.remove!="function"){HTMLElement.prototype.remove=function(){$(this).remove()}}var thumbsize=0,svg=typeof SVGRect!="undefined"&&window.navigator.userAgent.indexOf("Windows")<0?true:false,realsize="dyn",argr,args,mobile=false,info=false,preload=true,loaded=false,mobile=/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),grid=CE("div"),meta=json_decode(file_get_contents("meta?"+rand(1,200))),container=CE("div"),isMobile=false,desc=CE("span"),prevb=CE("img"),nextb=CE("img"),img=CE("img"),mdata={},empty,prog=CE("span"),uploads={active:0,queued:0};prog.id="progress";container.id="bigpic";container.style.cursor="pointer";container.style.display="none";container.addEventListener("click",iclick);prevb.src=svg?"icons/prev.svg":"icons/prev.png";prevb.classList.add("prev");prevb.classList.add("symbol");prevb.classList.add("vertcent");prevb.style.width="10%";prevb.addEventListener("click",prev);nextb.src=svg?"icons/next.svg":"icons/next.png";nextb.classList.add("next");nextb.classList.add("symbol");nextb.classList.add("vertcent");nextb.style.width="10%";nextb.addEventListener("click",next);img.classList.add("largepic");img.classList.add("cent");img.addEventListener("dblclick",fs);var infobut=CE("img");infobut.src=svg?"icons/info.svg":"icons/info.png";infobut.classList.add("symbol");infobut.style.width="7%";infobut.style.bottom="2%";infobut.addEventListener("click",infooverlay);infobut.classList.add("horcent");var infolay=CE("div");infolay.classList.add("infolay");infolay.classList.add("horcent");infolay.classList.add("closed");container.appendChilds(prevb,nextb,img,infobut,infolay);function init(){document.body.appendChilds(prog,grid,container);document.querySelector(".fileUpload").style.display="";imgs.forEach(addimg);ety();lhash();startWorker();update_progress();window.addEventListener("keypress",kinput);if(features.uploading){var a=document.querySelector("input");a.addEventListener("change",fqueue);document.body.addEventListener("dragover",function(b){b.preventDefault()});document.body.addEventListener("drop",fqueue)}};